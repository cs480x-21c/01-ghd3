<script src="https://d3js.org/d3.v6.min.js"></script>

<style>
path {
	fill: none;
	stroke: #aaa;
}
</style>
<style>
polygon {
	fill: none;
	stoke: #aaa;
}
</style>
<style>
text {
	font-style: italic;

}
</style>


<body id='body'>
<script>
  console.log(d3); // test if d3 is loaded
  // Add an SVG

  var width = 1920
  var height = 1080
  var svg = d3.select('body')
  	.append('svg')
    .attr('width', width)
    .attr('height', height);

  svg.append('text')
    .attr('font-size', 45)
  	.attr('x', 200)
  	.attr('y', 420)
  	.text('Click Me ->');

  svg.append('text')
  	.attr('font-size', 20)
  	.attr('x', 1250)
  	.attr('y', 245)
  	.text('<- Click Me');

  // Add Rectangles
  //Rect House
  svg.append('rect')
    .attr('x',800)
    .attr('y',400)
    .attr('width',500)
    .attr('height',400)
    .attr('stroke','black')
    .attr('stroke-width', 2)
    .attr('fill', '#966F33')
    .on('mouseover', function() {
    	d3.select(this)
    		.transition()
    		.duration(2000)
    		.attr('fill-opacity', '70%');
    })
    .on('mouseout', function(){
    	d3.select(this)
    		.transition()
    		.duration(500)
    		.attr('fill-opacity', '100%');
    })
    // Rect Chimney
   svg.append('rect')
   	.attr('x',1200)
   	.attr('y',260)
   	.attr('width', 40)
   	.attr('height', 100)
   	.attr('stroke', 'black')
   	.attr('fill', 'brown')
   	.attr('stroke-width', 2);
   	//Rect Door
   svg.append('rect')
   	.attr('x',850)
   	.attr('y',600)
   	.attr('width', 60)
   	.attr('height', 120)
   	.attr('stroke', 'black')
   	.attr('fill', 'brown');
   	//Tree Trunk
   svg.append('rect')
    .attr('x', 495)
    .attr('y', 300)
    .attr('width', 30)
    .attr('height', 400)
    .attr('fill', 'brown');

    //Moving Rainbow
    svg.append('rect')
     .attr('x', 0)
     .attr('y', 0)
     .attr('width', 30)
     .attr('height', 100)
     .attr('fill', 'rgb(255,0,0)')
     .attr('stroke', 'black')
     .on('mouseover', function(){
     	d3.select(this).transition().duration(200).attr('height', 200);
     })
     .on('mouseout', function(){
     	d3.select(this).transition().duration(200).attr('height', 100);
     })
    svg.append('rect')
     .attr('x', 30)
     .attr('y', 0)
     .attr('width', 30)
     .attr('height', 100)
     .attr('fill', 'rgb(255,165,0)')
     .attr('stroke', 'black')
     .on('mouseover', function(){
     	d3.select(this).transition().duration(200).attr('height', 300);
     })
     .on('mouseout', function(){
     	d3.select(this).transition().duration(200).attr('height', 100);
     })
    svg.append('rect')
     .attr('x', 60)
     .attr('y', 0)
     .attr('width', 30)
     .attr('height', 100)
     .attr('fill', 'rgb(255,255,0)')
     .attr('stroke', 'black')
     .on('mouseover', function(){
     	d3.select(this).transition().duration(200).attr('height', 300);
     })
     .on('mouseout', function(){
     	d3.select(this).transition().duration(200).attr('height', 100);
     })
    svg.append('rect')
     .attr('x', 90)
     .attr('y', 0)
     .attr('width', 30)
     .attr('height', 100)
     .attr('fill', 'rgb(0,128,0)')
     .attr('stroke', 'black')
     .on('mouseover', function(){
     	d3.select(this).transition().duration(200).attr('height', 300);
     })
     .on('mouseout', function(){
     	d3.select(this).transition().duration(200).attr('height', 100);
     })
    svg.append('rect')
     .attr('x', 120)
     .attr('y', 0)
     .attr('width', 30)
     .attr('height', 100)
     .attr('fill', 'rgb(0,0,255)')
     .attr('stroke', 'black')
     .on('mouseover', function(){
     	d3.select(this).transition().duration(200).attr('height', 300);
     })
     .on('mouseout', function(){
     	d3.select(this).transition().duration(200).attr('height', 100);
     })
    svg.append('rect')
     .attr('x', 150)
     .attr('y', 0)
     .attr('width', 30)
     .attr('height', 100)
     .attr('fill', 'rgb(75,0,130)')
     .attr('stroke', 'black')
     .on('mouseover', function(){
     	d3.select(this).transition().duration(200).attr('height', 300);
     })
     .on('mouseout', function(){
     	d3.select(this).transition().duration(200).attr('height', 100);
     })
    svg.append('rect')
     .attr('x', 180)
     .attr('y', 0)
     .attr('width', 30)
     .attr('height', 100)
     .attr('fill', 'rgb(238,130,238)')
     .attr('stroke', 'black')
     .on('mouseover', function(){
     	d3.select(this).transition().duration(200).attr('height', 300);
     })
     .on('mouseout', function(){
     	d3.select(this).transition().duration(200).attr('height', 100);
     })
 
  // Add Circles
  //Sun
  svg.append('circle')
  .attr('cx', 1900)
  .attr('cy', 50)
  .attr('r', 200)
  .attr('stroke', 'black')
  .attr('fill', 'yellow')
  .on('mouseover', function() {
    d3.select(this)
    .transition()
    .duration(500)
    .attr('fill', 'orange')
    .attr('r', 100);
  }).on('mouseout', function() {
    d3.select(this)
      .transition()
      .duration(500)
      .attr('fill', 'yellow')
      .attr('r', 200);
  })

  //Hidden Circles
  
  svg.append('circle')
  .attr('cx', 550)
  .attr('cy', 485)
  .attr('r', 10)
  .attr('stroke', 'black')
  .attr('fill', 'steelblue');

  svg.append('circle')
  .attr('cx', 484)
  .attr('cy', 400)
  .attr('r', 10)
  .attr('stroke', 'black')
  .attr('fill', 'blue');

  svg.append('circle')
  .attr('cx', 480)
  .attr('cy', 580)
  .attr('r', 10)
  .attr('stroke', 'black')
  .attr('fill', 'green');

  svg.append('circle')
  .attr('cx', 540)
  .attr('cy', 610)
  .attr('r', 10)
  .attr('stroke', 'black')
  .attr('fill', 'purple');

  svg.append('circle')
  .attr('cx', 1220)
  .attr('cy', 240)
  .attr('r', 10)
  .attr('fill', 'purple')
  .on('click', function(){
  	d3.select(this)
  	.transition()
  	.duration(2000)
  	.attr('cx', 1220)
  	.attr('cy', 0)
  	.transition()
  	.duration(10)
  	.attr('fill-opacity', '0%')
  	.attr('cx', 1220)
  	.attr('cy', 240)
  	.transition()
  	.duration(1000)
  	.attr('fill-opacity', '100%');
  })

  //Small planet
  svg.append('circle')
  	.attr('cx', 1300)
  	.attr('cy', 70)
  	.attr('r', 50)
  	.attr('fill', 'steelblue')
  	.attr('stroke', 'black');

  //Moon around planet
  function moonCircles(){
  	var circle = svg.append('circle')
  	.attr('cx', 1200)
  	.attr('cy', 60)
  	.attr('r', 10)
  	.attr('fill', 'gray')
  	.attr('stroke', 'black');
    repeat();

    function repeat(){
    	circle
    	.attr('cx', 1200)
    	.attr('cy', 70)
    	.transition()
    	.duration(2000)
    	.attr('cx', 1400)
    	.attr('cy', 70)
    	.transition()
    	.duration(2000)
    	.attr('cx', 1200)
    	.attr('cy', 70)
    	.on('end', repeat);
    }

  }

  moonCircles();

  // Add Lines
  //Window lines
  svg.append('line')
   .attr('x1', 1200)
   .attr('y1', 550)
   .attr('x2', 1200)
   .attr('y2', 650)
   .style('stroke', 'black')
   .style('stroke-width', 3);
  svg.append('line')
   .attr('x1', 1150)
   .attr('y1', 600)
   .attr('x2', 1250)
   .attr('y2', 600)
   .style('stroke', 'black')
   .style('stroke-width', 3);
  var lineGenerator = d3.line();
  var points = [[1250,650],
  				[1250,550],
  				[1150,550],
  				[1150,650],
  				[1251,650]];

  var pathDa = lineGenerator(points);

  svg.append('path')
  	.attr('d', pathDa)
  	.style('stroke', 'black')
  	.style('stroke-width', 7);


  //Sun Rays
  svg.append('line')
  .attr('x1', 1600)
  .attr('y1', 50)
  .attr('x2', 1690)
  .attr('y2', 50)
  .style('stroke', 'yellow')
  .style('stroke-width', 3);

  svg.append('line')
  .attr('x1', 1700)
  .attr('y1', 150)
  .attr('x2', 1600)
  .attr('y2', 170)
  .style('stroke', 'yellow')
  .style('stroke-width', 3);

  svg.append('line')
  .attr('x1', 1800)
  .attr('y1', 250)
  .attr('x2', 1750)
  .attr('y2', 300)
  .style('stroke', 'yellow')
  .style('stroke-width', 3);




  // Add Polygons
  //Grass
  svg.append('polygon')
  	.attr('points', '0,700 2000,700 2000,2000 0,2000')
  	.style('fill', 'green')
  	.style('stroke', 'black')
  	.style('stroke-width', 2)
  //Roof
  svg.append('polygon')
  	.attr('points', '800,400 1300,400 1050,200')
  	.style('fill', 'brown')
  	.style('stroke', 'black')
  	.style('stroke-width', 2)

  //Tree Green
  svg.append('polygon')
   	.attr('points', '510,250 560,360 535,360 580,500 535,500 620,660, 400,660 485,500 440,500 485,360 460,360')
   	.style('fill', 'green')
   	.on('click', function() {
   		d3.select(this)
   		  .transition()
    	  .attr('fill-opacity', '0%');
   	})
   	.on('mouseout', function() {
   		d3.select(this)
   		  .transition()
   		  .duration(500)
    	  .attr('fill-opacity', '100%');
   	})

   	//Loading an image

   	var image = svg.append('svg:image')
   		.attr('width', 300)
   		.attr('height', 300)
   		.attr('x', 1400)
   		.attr('y', 510)
   		.attr('xlink:href', 'imgs/car.png');

</script>
</body>

