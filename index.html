<html>
  <head>
<script src="https://d3js.org/d3.v6.min.js"></script>
  </head>
    <body>
 <script>
  console.log(d3); // test if d3 is loaded
  
  //Coordinates used for fish in data binding
  var fishPosition = [280, 400, 470, 850]
  var fishTailPosition = ["268,700 260,688 260,712",
                          "388,700 380,688 380,712",
                          "458,700 450,688 450,712",
                          "838,700 830,688 830,712"]

  // Add an SVG
  var svg = d3.select("body")
   .append("svg")
   .attr("width", 1000)
   .attr("height", 1000);

  // Add Rectangles - BACKGROUND rectangle for water
  svg.append("rect")
   .attr("x", 0)
   .attr("y", 0)
   .attr("width", 1000)
   .attr("height", 1000)
   .attr("fill", "SteelBlue");

  //FISH
  // Add Circles - Also used data binding here
  svg.selectAll("circle")
   .data(fishPosition)
   .enter()
   .append("circle")
   .attr("cx", function(d) {return d} )
   .attr("cy", 700)
   .attr("r", 12)
   .attr("fill", "Yellow");

  // Add Polygons - Also used data binding here
  svg.selectAll("polygon")
   .data(fishTailPosition)
   .enter()
   .append("polygon")
   .attr("points", function(d) {return d} )
   .attr("fill", "Yellow");

  //TURTLE
  svg.append("circle")
   .attr("cx", 200)
   .attr("cy", 100)
   .attr("r", 40)
   .attr("fill", "Green");
  
  svg.append("circle")
   .attr("cx", 125)
   .attr("cy", 150)
   .attr("r", 20)
   .attr("fill", "Green");

  svg.append("circle")
   .attr("cx", 125)
   .attr("cy", 333)
   .attr("r", 20)
   .attr("fill", "Green");

  svg.append("circle")
   .attr("cx", 275)
   .attr("cy", 150)
   .attr("r", 20)
   .attr("fill", "Green");

  svg.append("circle")
   .attr("cx", 275)
   .attr("cy", 333)
   .attr("r", 20)
   .attr("fill", "Green");

  svg.append("ellipse")
   .attr("cx", 200)
   .attr("cy", 242)
   .attr("rx", 96)
   .attr("ry", 106)
   .attr("fill", "Green");
  
  svg.append("polygon")
   .attr("points", "200,135 140,323 290,203 110,203 260,323")
   .attr("fill", "Chartreuse")
   .attr("fill-rule", "Evenodd");

  //SWIMMER
  // Add Lines
  svg.append("line")
  .attr("x1", 600)
  .attr("y1", 230)
  .attr("x2", 600)
  .attr("y2", 570)
  .attr("stroke", "Indigo");

  svg.append("line")
  .attr("x1", 600)
  .attr("y1", 570)
  .attr("x2", 550)
  .attr("y2", 800)
  .attr("stroke", "Indigo");

  //Flipper
  svg.append("polygon")
   .attr("points", "550,800 570,950 470,920")
   .attr("fill", "Indigo");

  svg.append("line")
  .attr("x1", 600)
  .attr("y1", 570)
  .attr("x2", 650)
  .attr("y2", 800)
  .attr("stroke", "Indigo");

  //Flipper
  svg.append("polygon")
   .attr("points", "650,800 630,950 730,920")
   .attr("fill", "Indigo");

  svg.append("line")
  .attr("x1", 600)
  .attr("y1", 380)
  .attr("x2", 380)
  .attr("y2", 300)
  .attr("stroke", "Indigo");

  svg.append("circle")
   .attr("cx", 380)
   .attr("cy", 300)
   .attr("r", 15)
   .attr("fill", "Wheat");

  svg.append("line")
   .attr("x1", 600)
   .attr("y1", 380)
   .attr("x2", 720)
   .attr("y2", 600)
   .attr("stroke", "Indigo");

  svg.append("circle")
   .attr("cx", 720)
   .attr("cy", 600)
   .attr("r", 15)
   .attr("fill", "Wheat");
  
  svg.append("circle")
   .attr("cx", 600)
   .attr("cy", 230)
   .attr("r", 80)
   .attr("fill", "Wheat");

  svg.append("circle")
   .attr("cx", 570)
   .attr("cy", 200)
   .attr("r", 10)
   .attr("fill", "Black");

  svg.append("circle")
   .attr("cx", 630)
   .attr("cy", 200)
   .attr("r", 10)
   .attr("fill", "Black");

  //Goggles
  svg.append("rect")
   .attr("x", 550)
   .attr("y", 182)
   .attr("rx", 10)
   .attr("ry", 10)
   .attr("width", 100)
   .attr("height", 40)
   .attr("fill", "none")
   .attr("stroke", "GoldenRod")
   .attr("stroke-width", 2);

  svg.append("circle")
   .attr("cx", 600)
   .attr("cy", 270)
   .attr("r", 20)
   .attr("fill", "Black");

  //BUBBLES
  svg.append("circle")
   .attr("class", "bubbles")
   .attr("cx", 620)
   .attr("cy", 265)
   .attr("r", 8)
   .attr("fill", "LightBlue")
   .attr("stroke", "RoyalBlue");

  svg.append("circle")
   .attr("class", "bubbles")
   .attr("cx", 632)
   .attr("cy", 260)
   .attr("r", 8)
   .attr("fill", "LightBlue")
   .attr("stroke", "RoyalBlue");

  svg.append("circle")
   .attr("class", "bubbles")
   .attr("cx", 644)
   .attr("cy", 243)
   .attr("r", 10)
   .attr("fill", "LightBlue")
   .attr("stroke", "RoyalBlue");
  
  svg.append("circle")
   .attr("class", "bubbles")
   .attr("cx", 660)
   .attr("cy", 230)
   .attr("r", 8)
   .attr("fill", "LightBlue")
   .attr("stroke", "RoyalBlue");

  svg.append("circle")
   .attr("class", "bubbles")
   .attr("cx", 675)
   .attr("cy", 205)
   .attr("r", 14)
   .attr("fill", "LightBlue")
   .attr("stroke", "RoyalBlue");

  svg.append("circle")
   .attr("class", "bubbles")
   .attr("cx", 292)
   .attr("cy", 697)
   .attr("r", 3)
   .attr("fill", "LightBlue")
   .attr("stroke", "RoyalBlue");

  svg.append("circle")
   .attr("class", "bubbles")
   .attr("cx", 415)
   .attr("cy", 695)
   .attr("r", 4)
   .attr("fill", "LightBlue")
   .attr("stroke", "RoyalBlue");
  
  svg.append("circle")
   .attr("class", "bubbles")
   .attr("cx", 420)
   .attr("cy", 690)
   .attr("r", 2)
   .attr("fill", "LightBlue")
   .attr("stroke", "RoyalBlue");

  svg.append("circle")
   .attr("class", "bubbles")
   .attr("cx", 483)
   .attr("cy", 692)
   .attr("r", 2)
   .attr("fill", "LightBlue")
   .attr("stroke", "RoyalBlue");

  svg.append("circle")
   .attr("class", "bubbles")
   .attr("cx", 863)
   .attr("cy", 694)
   .attr("r", 2)
   .attr("fill", "LightBlue")
   .attr("stroke", "RoyalBlue");

  svg.append("circle")
   .attr("class", "bubbles")
   .attr("cx", 867)
   .attr("cy", 690)
   .attr("r", 2)
   .attr("fill", "LightBlue")
   .attr("stroke", "RoyalBlue");
  
  svg.append("circle")
   .attr("class", "bubbles")
   .attr("cx", 863)
   .attr("cy", 685)
   .attr("r", 4)
   .attr("fill", "LightBlue")
   .attr("stroke", "RoyalBlue");

  //Transition to make bubbles float up
  d3.selectAll(".bubbles")
    .transition()
    .duration(2000)
    .attr("cy", 0)
    .delay(400);
 
</script>
</body>
</html>
