<script src="https://d3js.org/d3.v6.min.js"></script>

<svg id="vis"></svg>
<!-- <svg id="rect"></svg> -->
<!-- <svg id="circle"></svg> -->

<script>
  world_width = 500
  world_height = 500
  console.log(d3); // test if d3 is loaded

  var data = [
  [10, 20], [20, 100], [200, 50],
  [25, 80], [10, 200], [150, 75],
  [10, 70], [30, 150], [100, 15]
  ]

  var svg = d3.select('#vis')
      .attr('width', world_width)
      .attr('height', world_height)

  // Trunk
  svg.append('rect')
    .attr('x', world_width/2 - 5)
    .attr('y', 250)
    .attr('width', 10)
    .attr('height', 200)
    .attr('stroke', 'black')
    .attr('fill', 'brown')

  // Foliage
  d3.csv("leaves.csv").then(function(leaves){
    console.log(leaves)

    leaves.forEach(function(d) {
        d.xleaves = d.xleaves;
        d.yleaves = d.yleaves;
    });

    var xscale = d3.scaleLinear()
      .domain([0, world_width])
      .range([0, world_width])
    var yscale = d3.scaleLinear()
      .domain([0, world_height])
      .range([0, world_height])

    var foliage = svg.selectAll('circle')
      .data(leaves)
      .enter().append('circle')
      // .attr("cx", 100)
      // .attr("cy", 200)
      // .attr('cx', leaves.xleaves)
      // .attr('cy', leaves.yleaves)
      .attr('cx', function (d) {return xscale(d.xleaves); })
      .attr('cy', function (d) {return yscale(d.yleaves); })
      // .attr('cx', function (d) {console.log(d); return xscale(d); })
      // .attr('cy', function (d) {console.log(d); return yscale(d); })
      .attr('r', 10)
      .style('fill', 'green')
  })


  // Add Lines
  // Add Polygons
  
</script>
