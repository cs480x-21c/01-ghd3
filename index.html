<html>
  <body>
    <script src="https://d3js.org/d3.v6.min.js"></script>

    <div id="main"></div>

    <script>
      console.log({ d3 }); // test if d3 is loaded

      // Add an SVG
      const svg = d3
        .select("#main")
        .append("svg")
        .attr("width", 600)
        .attr("height", 600);

      var toggleColor = (function () {
        var currentColor = "red";

        return function () {
          currentColor = currentColor == "red" ? "magenta" : "red";
          d3.select(this).style("fill", currentColor);
        };
      })();
      // Add Rectangles

      // Add Circles
      svg
        .append("circle")
        .attr("class", "shape circle")
        .attr("cx", 50)
        .attr("cy", 300)
        .attr("r", 25)
        .on("click", toggleColor)
        .style("fill", "red");
      // Add Lines

      const linScale = 20;
      const xLinPoints = [2, 1, 3, 2];
      const yLinPoints = [1, 3, 3, 5];
      var i;
      for (i = 0; i < xLinPoints.length - 1; i++) {
        svg
          .append("line")
          .attr("class", "shape lines")
          .attr("x1", xLinPoints[i] * linScale)
          .attr("y1", yLinPoints[i] * linScale)
          .attr("x2", xLinPoints[i + 1] * linScale)
          .attr("y2", yLinPoints[i + 1] * linScale)
          .style("stroke", "black")
          .style("stroke-width", 4);
      }

      // Add Polygons

    </script>
  </body>
</html>
